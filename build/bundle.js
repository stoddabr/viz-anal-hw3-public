var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(n)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a;function c(t,e){return a||(a=document.createElement("a")),a.href=e,t===a.href}function s(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}const u="undefined"!=typeof window;let f=u?()=>window.performance.now():()=>Date.now(),d=u?t=>requestAnimationFrame(t):t;const h=new Set;function g(t){h.forEach((e=>{e.c(t)||(h.delete(e),e.f())})),0!==h.size&&d(g)}function m(t){let e;return 0===h.size&&d(g),{promise:new Promise((n=>{h.add(e={c:t,f:n})})),abort(){h.delete(e)}}}function p(t,e){t.appendChild(e)}function b(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function y(t){const e=M("style");return function(t,e){p(t.head||t,e)}(b(t),e),e.sheet}function v(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode.removeChild(t)}function w(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function M(t){return document.createElement(t)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function _(){return k(" ")}function N(){return k("")}function j(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function E(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function A(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function S(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}const q=new Map;let C,z=0;function R(t,e,n,r,i,o,l,a=0){const c=16.666/r;let s="{\n";for(let t=0;t<=1;t+=c){const r=e+(n-e)*o(t);s+=100*t+`%{${l(r,1-r)}}\n`}const u=s+`100% {${l(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,d=b(t),{stylesheet:h,rules:g}=q.get(d)||function(t,e){const n={stylesheet:y(e),rules:{}};return q.set(t,n),n}(d,t);g[f]||(g[f]=!0,h.insertRule(`@keyframes ${f} ${u}`,h.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${r}ms linear ${i}ms 1 both`,z+=1,f}function D(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),i=n.length-r.length;i&&(t.style.animation=r.join(", "),z-=i,z||d((()=>{z||(q.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),q.clear())})))}function P(t){C=t}function H(t){(function(){if(!C)throw new Error("Function called outside component initialization");return C})().$$.on_mount.push(t)}const O=[],B=[],L=[],I=[],F=Promise.resolve();let W=!1;function V(t){L.push(t)}const T=new Set;let X,G=0;function U(){const t=C;do{for(;G<O.length;){const t=O[G];G++,P(t),Y(t.$$)}for(P(null),O.length=0,G=0;B.length;)B.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];T.has(e)||(T.add(e),e())}L.length=0}while(O.length);for(;I.length;)I.pop()();W=!1,T.clear(),P(t)}function Y(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(V)}}function Z(){return X||(X=Promise.resolve(),X.then((()=>{X=null}))),X}function J(t,e,n){t.dispatchEvent(function(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}(`${e?"intro":"outro"}${n}`))}const K=new Set;let Q;function tt(){Q={r:0,c:[],p:Q}}function et(){Q.r||i(Q.c),Q=Q.p}function nt(t,e){t&&t.i&&(K.delete(t),t.i(e))}function rt(t,e,n,r){if(t&&t.o){if(K.has(t))return;K.add(t),Q.c.push((()=>{K.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const it={duration:0};function ot(n,r,l,a){let c=r(n,l),s=a?0:1,u=null,d=null,h=null;function g(){h&&D(n,h)}function p(t,e){const n=t.b-s;return e*=Math.abs(n),{a:s,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(r){const{delay:o=0,duration:l=300,easing:a=e,tick:b=t,css:y}=c||it,v={start:f()+o,b:r};r||(v.group=Q,Q.r+=1),u||d?d=v:(y&&(g(),h=R(n,s,r,l,o,a,y)),r&&b(0,1),u=p(v,l),V((()=>J(n,r,"start"))),m((t=>{if(d&&t>d.start&&(u=p(d,l),d=null,J(n,u.b,"start"),y&&(g(),h=R(n,s,u.b,u.duration,0,a,c.css))),u)if(t>=u.end)b(s=u.b,1-s),J(n,u.b,"end"),d||(u.b?g():--u.group.r||i(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;s=u.a+u.d*a(e/u.duration),b(s,1-s)}return!(!u&&!d)})))}return{run(t){o(c)?Z().then((()=>{c=c(),b(t)})):b(t)},end(){g(),u=d=null}}}function lt(t){t&&t.c()}function at(t,e,r,l){const{fragment:a,on_mount:c,on_destroy:s,after_update:u}=t.$$;a&&a.m(e,r),l||V((()=>{const e=c.map(n).filter(o);s?s.push(...e):i(e),t.$$.on_mount=[]})),u.forEach(V)}function ct(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function st(t,e){-1===t.$$.dirty[0]&&(O.push(t),W||(W=!0,F.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ut(e,n,o,l,a,c,s,u=[-1]){const f=C;P(e);const d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};s&&s(d.root);let h=!1;if(d.ctx=o?o(e,n.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),h&&st(e,t)),n})):[],d.update(),h=!0,i(d.before_update),d.fragment=!!l&&l(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(x)}else d.fragment&&d.fragment.c();n.intro&&nt(e.$$.fragment),at(e,n.target,n.anchor,n.customElement),U()}P(f)}class ft{$destroy(){ct(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function dt(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ht(t){let e=t,n=t,r=t;function i(t,e,i=0,o=t.length){if(i<o){if(0!==n(e,e))return o;do{const n=i+o>>>1;r(t[n],e)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length&&(e=(e,n)=>t(e)-n,n=dt,r=(e,n)=>dt(t(e),n)),{left:i,center:function(t,n,r=0,o=t.length){const l=i(t,n,r,o-1);return l>r&&e(t[l-1],n)>-e(t[l],n)?l-1:l},right:function(t,e,i=0,o=t.length){if(i<o){if(0!==n(e,e))return o;do{const n=i+o>>>1;r(t[n],e)<=0?i=n+1:o=n}while(i<o)}return i}}}const gt=ht(dt).right;ht((function(t){return null===t?NaN:+t})).center;var mt=gt,pt=Math.sqrt(50),bt=Math.sqrt(10),yt=Math.sqrt(2);function vt(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=pt?10:o>=bt?5:o>=yt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=pt?10:o>=bt?5:o>=yt?2:1)}function xt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function wt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Mt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function $t(){}var kt=.7,_t=1/kt,Nt="\\s*([+-]?\\d+)\\s*",jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",At=/^#([0-9a-f]{3,8})$/,St=new RegExp("^rgb\\("+[Nt,Nt,Nt]+"\\)$"),qt=new RegExp("^rgb\\("+[Et,Et,Et]+"\\)$"),Ct=new RegExp("^rgba\\("+[Nt,Nt,Nt,jt]+"\\)$"),zt=new RegExp("^rgba\\("+[Et,Et,Et,jt]+"\\)$"),Rt=new RegExp("^hsl\\("+[jt,Et,Et]+"\\)$"),Dt=new RegExp("^hsla\\("+[jt,Et,Et,jt]+"\\)$"),Pt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ht(){return this.rgb().formatHex()}function Ot(){return this.rgb().formatRgb()}function Bt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=At.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Lt(e):3===n?new Vt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?It(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?It(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=St.exec(t))?new Vt(e[1],e[2],e[3],1):(e=qt.exec(t))?new Vt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ct.exec(t))?It(e[1],e[2],e[3],e[4]):(e=zt.exec(t))?It(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Rt.exec(t))?Ut(e[1],e[2]/100,e[3]/100,1):(e=Dt.exec(t))?Ut(e[1],e[2]/100,e[3]/100,e[4]):Pt.hasOwnProperty(t)?Lt(Pt[t]):"transparent"===t?new Vt(NaN,NaN,NaN,0):null}function Lt(t){return new Vt(t>>16&255,t>>8&255,255&t,1)}function It(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vt(t,e,n,r)}function Ft(t){return t instanceof $t||(t=Bt(t)),t?new Vt((t=t.rgb()).r,t.g,t.b,t.opacity):new Vt}function Wt(t,e,n,r){return 1===arguments.length?Ft(t):new Vt(t,e,n,null==r?1:r)}function Vt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Tt(){return"#"+Gt(this.r)+Gt(this.g)+Gt(this.b)}function Xt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Gt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ut(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Zt(t,e,n,r)}function Yt(t){if(t instanceof Zt)return new Zt(t.h,t.s,t.l,t.opacity);if(t instanceof $t||(t=Bt(t)),!t)return new Zt;if(t instanceof Zt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),l=NaN,a=o-i,c=(o+i)/2;return a?(l=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=c<.5?o+i:2-o-i,l*=60):a=c>0&&c<1?0:l,new Zt(l,a,c,t.opacity)}function Zt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Jt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}wt($t,Bt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ht,formatHex:Ht,formatHsl:function(){return Yt(this).formatHsl()},formatRgb:Ot,toString:Ot}),wt(Vt,Wt,Mt($t,{brighter:function(t){return t=null==t?_t:Math.pow(_t,t),new Vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?kt:Math.pow(kt,t),new Vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tt,formatHex:Tt,formatRgb:Xt,toString:Xt})),wt(Zt,(function(t,e,n,r){return 1===arguments.length?Yt(t):new Zt(t,e,n,null==r?1:r)}),Mt($t,{brighter:function(t){return t=null==t?_t:Math.pow(_t,t),new Zt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?kt:Math.pow(kt,t),new Zt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vt(Jt(t>=240?t-240:t+120,i,r),Jt(t,i,r),Jt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Kt=t=>()=>t;function Qt(t){return 1==(t=+t)?te:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Kt(isNaN(e)?n:e)}}function te(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Kt(isNaN(t)?e:t)}var ee=function t(e){var n=Qt(e);function r(t,e){var r=n((t=Wt(t)).r,(e=Wt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),l=te(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=l(e),t+""}}return r.gamma=t,r}(1);function ne(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function re(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),l=new Array(r);for(n=0;n<i;++n)o[n]=ue(t[n],e[n]);for(;n<r;++n)l[n]=e[n];return function(t){for(n=0;n<i;++n)l[n]=o[n](t);return l}}function ie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function oe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function le(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=ue(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var ae=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ce=new RegExp(ae.source,"g");function se(t,e){var n,r,i,o=ae.lastIndex=ce.lastIndex=0,l=-1,a=[],c=[];for(t+="",e+="";(n=ae.exec(t))&&(r=ce.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[l]?a[l]+=i:a[++l]=i),(n=n[0])===(r=r[0])?a[l]?a[l]+=r:a[++l]=r:(a[++l]=null,c.push({i:l,x:oe(n,r)})),o=ce.lastIndex;return o<e.length&&(i=e.slice(o),a[l]?a[l]+=i:a[++l]=i),a.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)a[(n=c[r]).i]=n.x(t);return a.join("")})}function ue(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Kt(e):("number"===i?oe:"string"===i?(n=Bt(e))?(e=n,ee):se:e instanceof Bt?ee:e instanceof Date?ie:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?re:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?le:oe:ne))(t,e)}function fe(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function de(t){return+t}var he=[0,1];function ge(t){return t}function me(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function pe(t,e,n){var r=t[0],i=t[1],o=e[0],l=e[1];return i<r?(r=me(i,r),o=n(l,o)):(r=me(r,i),o=n(o,l)),function(t){return o(r(t))}}function be(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),l=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<r;)i[l]=me(t[l],t[l+1]),o[l]=n(e[l],e[l+1]);return function(e){var n=mt(t,e,1,r)-1;return o[n](i[n](e))}}function ye(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ve(){var t,e,n,r,i,o,l=he,a=he,c=ue,s=ge;function u(){var t,e,n,c=Math.min(l.length,a.length);return s!==ge&&(t=l[0],e=l[c-1],t>e&&(n=t,t=e,e=n),s=function(n){return Math.max(t,Math.min(e,n))}),r=c>2?be:pe,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(l.map(t),a,c)))(t(s(e)))}return f.invert=function(n){return s(e((o||(o=r(a,l.map(t),oe)))(n)))},f.domain=function(t){return arguments.length?(l=Array.from(t,de),u()):l.slice()},f.range=function(t){return arguments.length?(a=Array.from(t),u()):a.slice()},f.rangeRound=function(t){return a=Array.from(t),c=fe,u()},f.clamp=function(t){return arguments.length?(s=!!t||ge,u()):s!==ge},f.interpolate=function(t){return arguments.length?(c=t,u()):c},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,u()}}function xe(){return ve()(ge,ge)}function we(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Me(t){return(t=we(Math.abs(t)))?t[1]:NaN}var $e,ke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _e(t){if(!(e=ke.exec(t)))throw new Error("invalid format: "+t);var e;return new Ne({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Ne(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function je(t,e){var n=we(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}_e.prototype=Ne.prototype,Ne.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ee={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>je(100*t,e),r:je,s:function(t,e){var n=we(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-($e=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,l=r.length;return o===l?r:o>l?r+new Array(o-l+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+we(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ae(t){return t}var Se,qe,Ce,ze=Array.prototype.map,Re=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function De(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ae:(e=ze.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],l=0,a=e[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(t.substring(i-=a,i+a)),!((c+=a+1)>r));)a=e[l=(l+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",l=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Ae:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(ze.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=_e(t)).fill,n=t.align,f=t.sign,d=t.symbol,h=t.zero,g=t.width,m=t.comma,p=t.precision,b=t.trim,y=t.type;"n"===y?(m=!0,y="g"):Ee[y]||(void 0===p&&(p=12),b=!0,y="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var v="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===d?o:/[%p]/.test(y)?c:"",w=Ee[y],M=/[defgprs%]/.test(y);function $(t){var i,o,c,d=v,$=x;if("c"===y)$=w(t)+$,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),p),b&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),d=(k?"("===f?f:s:"-"===f||"("===f?"":f)+d,$=("s"===y?Re[8+$e/3]:"")+$+(k&&"("===f?")":""),M)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){$=(46===c?l+t.slice(i+1):t.slice(i))+$,t=t.slice(0,i);break}}m&&!h&&(t=r(t,1/0));var _=d.length+t.length+$.length,N=_<g?new Array(g-_+1).join(e):"";switch(m&&h&&(t=r(N+t,N.length?g-$.length:1/0),N=""),n){case"<":t=d+t+$+N;break;case"=":t=d+N+t+$;break;case"^":t=N.slice(0,_=N.length>>1)+d+t+$+N.slice(_);break;default:t=N+d+t+$}return a(t)}return p=void 0===p?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),$.toString=function(){return t+""},$}return{format:f,formatPrefix:function(t,e){var n=f(((t=_e(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Me(e)/3))),i=Math.pow(10,-r),o=Re[8+r/3];return function(t){return n(i*t)+o}}}}function Pe(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=pt?i*=10:o>=bt?i*=5:o>=yt&&(i*=2),e<t?-i:i}(t,e,n);switch((r=_e(null==r?",f":r)).type){case"s":var l=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Me(e)/3)))-Me(Math.abs(t)))}(o,l))||(r.precision=i),Ce(r,l);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Me(e)-Me(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Me(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return qe(r)}function He(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,l,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(l=vt(t,e,n))||!isFinite(l))return[];if(l>0){let n=Math.round(t/l),r=Math.round(e/l);for(n*l<t&&++n,r*l>e&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)*l}else{l=-l;let n=Math.round(t*l),r=Math.round(e*l);for(n/l<t&&++n,r/l>e&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)/l}return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Pe(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),l=0,a=o.length-1,c=o[l],s=o[a],u=10;for(s<c&&(i=c,c=s,s=i,i=l,l=a,a=i);u-- >0;){if((i=vt(c,s,n))===r)return o[l]=c,o[a]=s,e(o);if(i>0)c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i}r=i}return t},t}function Oe(){var t=xe();return t.copy=function(){return ye(t,Oe())},xt.apply(t,arguments),He(t)}Se=De({thousands:",",grouping:[3],currency:["$",""]}),qe=Se.format,Ce=Se.formatPrefix;const Be=[];function Le(e,n=t){let r;const i=new Set;function o(t){if(l(e,t)&&(e=t,r)){const t=!Be.length;for(const t of i)t[1](),Be.push(t,e);if(t){for(let t=0;t<Be.length;t+=2)Be[t][0](Be[t+1]);Be.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(l,a=t){const c=[l,a];return i.add(c),1===i.size&&(r=n(o)||t),l(e),()=>{i.delete(c),0===i.size&&(r(),r=null)}}}}const Ie=Le(!1),Fe=Le(!1),We=Le(!1),Ve=Le(-1),Te=Le(-1);function Xe(t){const e=t-1;return e*e*e+1}function Ge(t,{delay:n=0,duration:r=400,easing:i=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:i,css:t=>"opacity: "+t*o}}function Ue(t,{delay:e=0,duration:n=400,easing:r=Xe,x:i=0,y:o=0,opacity:l=0}={}){const a=getComputedStyle(t),c=+a.opacity,s="none"===a.transform?"":a.transform,u=c*(1-l);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${s} translate(${(1-t)*i}px, ${(1-t)*o}px);\n\t\t\topacity: ${c-u*e}`}}const Ye="./static/images/",Ze=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];function Je(t,e,n){const r=t.slice();return r[17]=e[n],r[19]=n,r}function Ke(t){let e,n,r,o,l,a,c,s;function u(){return t[14](t[17],t[19])}return{c(){e=$("rect"),o=$("image"),E(e,"class","datum-color svelte-yz1van"),E(e,"width",rn-2),E(e,"height",rn-2),E(e,"fill",n=Ze[t[17].true_label]),E(e,"stroke",r=Ze[t[17].predicted_label]),E(e,"opacity","1.0"),E(o,"class","datum-img svelte-yz1van"),E(o,"href",l=Ye+t[17].filename),E(o,"alt",a="datum "+t[17].id),E(o,"width",rn-2)},m(n,r){v(n,e,r),v(n,o,r),c||(s=[j(o,"mouseenter",u),j(o,"mouseleave",t[8])],c=!0)},p(i,c){t=i,1&c&&n!==(n=Ze[t[17].true_label])&&E(e,"fill",n),1&c&&r!==(r=Ze[t[17].predicted_label])&&E(e,"stroke",r),1&c&&l!==(l=Ye+t[17].filename)&&E(o,"href",l),1&c&&a!==(a="datum "+t[17].id)&&E(o,"alt",a)},d(t){t&&x(e),t&&x(o),c=!1,i(s)}}}function Qe(t){let e,n,r,o,l,a,c,s;function u(){return t[13](t[17],t[19])}return{c(){e=$("rect"),o=$("image"),E(e,"class","datum-color svelte-yz1van"),E(e,"width",rn-2),E(e,"height",rn-2),E(e,"fill",n=Ze[t[17].true_label]),E(e,"stroke",r=Ze[t[17].predicted_label]),E(e,"opacity","0.2"),E(o,"class","datum-img svelte-yz1van"),E(o,"href",l=Ye+t[17].filename),E(o,"alt",a="datum "+t[17].id),E(o,"width",rn-2)},m(n,r){v(n,e,r),v(n,o,r),c||(s=[j(o,"mouseenter",u),j(o,"mouseleave",t[8])],c=!0)},p(i,c){t=i,1&c&&n!==(n=Ze[t[17].true_label])&&E(e,"fill",n),1&c&&r!==(r=Ze[t[17].predicted_label])&&E(e,"stroke",r),1&c&&l!==(l=Ye+t[17].filename)&&E(o,"href",l),1&c&&a!==(a="datum "+t[17].id)&&E(o,"alt",a)},d(t){t&&x(e),t&&x(o),c=!1,i(s)}}}function tn(t){let e,n,r,o,l,a,c,s;function u(){return t[12](t[17],t[19])}return{c(){e=$("rect"),o=$("image"),E(e,"class","datum-color svelte-yz1van"),E(e,"width",rn-2),E(e,"height",rn-2),E(e,"fill",n=Ze[t[17].true_label]),E(e,"stroke",r=Ze[t[17].predicted_label]),E(e,"opacity","1.0"),E(o,"class","datum-img svelte-yz1van"),E(o,"href",l=Ye+t[17].filename),E(o,"alt",a="datum "+t[17].id),E(o,"width",rn-2)},m(n,r){v(n,e,r),v(n,o,r),c||(s=[j(o,"mouseenter",u),j(o,"mouseleave",t[8])],c=!0)},p(i,c){t=i,1&c&&n!==(n=Ze[t[17].true_label])&&E(e,"fill",n),1&c&&r!==(r=Ze[t[17].predicted_label])&&E(e,"stroke",r),1&c&&l!==(l=Ye+t[17].filename)&&E(o,"href",l),1&c&&a!==(a="datum "+t[17].id)&&E(o,"alt",a)},d(t){t&&x(e),t&&x(o),c=!1,i(s)}}}function en(t){let e,n;function r(t,e){return t[6]&&t[6].id==t[17].id?tn:(t[6]?-1==t[4]&&-1==t[5]||t[5]!=t[17].predicted_label&&t[4]!=t[17].true_label:(-1!=t[4]||-1!=t[5])&&(t[5]!=t[17].predicted_label&&t[4]!=t[17].true_label))?Qe:Ke}let i=r(t),o=i(t);return{c(){e=$("g"),o.c(),E(e,"transform",n="translate("+t[9](t[19])+" "+(t[3]-rn-t[10](t[19]))+")")},m(t,n){v(t,e,n),o.m(e,null)},p(t,l){i===(i=r(t))&&o?o.p(t,l):(o.d(1),o=i(t),o&&(o.c(),o.m(e,null))),8&l&&n!==(n="translate("+t[9](t[19])+" "+(t[3]-rn-t[10](t[19]))+")")&&E(e,"transform",n)},d(t){t&&x(e),o.d()}}}function nn(e){let n,r,i=e[0].instances,o=[];for(let t=0;t<i.length;t+=1)o[t]=en(Je(e,i,t));return{c(){n=$("g");for(let t=0;t<o.length;t+=1)o[t].c();E(n,"transform",r="translate("+e[1]+" "+e[2]+")")},m(t,e){v(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(2041&e){let r;for(i=t[0].instances,r=0;r<i.length;r+=1){const l=Je(t,i,r);o[r]?o[r].p(l,e):(o[r]=en(l),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}6&e&&r!==(r="translate("+t[1]+" "+t[2]+")")&&E(n,"transform",r)},i:t,o:t,d(t){t&&x(n),w(o,t)}}}const rn=8;function on(t,e,n){let r,i,o;s(t,Ve,(t=>n(4,r=t))),s(t,Te,(t=>n(5,i=t))),s(t,We,(t=>n(6,o=t)));let{binData:l}=e,{tx:a}=e,{ty:c}=e,{binWidth:u}=e,{binHeight:f}=e;function d(t,e){console.log("selected datum in scoreboxhist",{datum:t,i:e}),We.set({...t})}return t.$$set=t=>{"binData"in t&&n(0,l=t.binData),"tx"in t&&n(1,a=t.tx),"ty"in t&&n(2,c=t.ty),"binWidth"in t&&n(11,u=t.binWidth),"binHeight"in t&&n(3,f=t.binHeight)},[l,a,c,f,r,i,o,d,function(){We.set(!1)},function(t){const e=Math.floor(u/rn);return rn*(t%e)},function(t){const e=Math.floor(u/rn);return Math.floor(t/e)*rn},u,(t,e)=>d(t,e),(t,e)=>d(t,e),(t,e)=>d(t,e)]}class ln extends ft{constructor(t){super(),ut(this,t,on,nn,l,{binData:0,tx:1,ty:2,binWidth:11,binHeight:3})}}function an(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function cn(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function sn(t,e,n){const r=t.slice();return r[18]=e[n],r[20]=n,r}function un(t,e,n){const r=t.slice();return r[21]=e[n],r[14]=n,r}function fn(e){let n;return{c(){n=M("p"),n.textContent="Data not loaded"},m(t,e){v(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}function dn(t){let e,n,r,i,o,l,a,c=t[3]&&hn(t),s=t[2],u=[];for(let e=0;e<s.length;e+=1)u[e]=pn(cn(t,s,e));const f=t=>rt(u[t],1,1,(()=>{u[t]=null}));let d=Array(10),h=[];for(let e=0;e<d.length;e+=1)h[e]=bn(an(t,d,e));return{c(){e=$("svg"),c&&c.c(),n=$("g");for(let t=0;t<u.length;t+=1)u[t].c();r=$("g"),i=$("g");for(let t=0;t<h.length;t+=1)h[t].c();o=$("line"),l=$("line"),E(n,"class","chartArea"),E(n,"transform","translate("+wn+" "+Mn+")"),E(i,"class","marks"),E(o,"x1",wn),E(o,"y1",Mn),E(o,"x2",wn+t[4]),E(o,"y2",Mn),E(l,"x1",wn-2),E(l,"y1",Mn),E(l,"x2",wn-2),E(l,"y2",Mn+t[5]),E(r,"class","axis svelte-19h7nf5"),E(e,"viewBox","0 0 "+(t[4]+wn)+" "+(t[5]+Mn)),E(e,"class","svelte-19h7nf5")},m(t,s){v(t,e,s),c&&c.m(e,null),p(e,n);for(let t=0;t<u.length;t+=1)u[t].m(n,null);p(e,r),p(r,i);for(let t=0;t<h.length;t+=1)h[t].m(i,null);p(r,o),p(r,l),a=!0},p(t,r){if(t[3]?c?(c.p(t,r),8&r&&nt(c,1)):(c=hn(t),c.c(),nt(c,1),c.m(e,n)):c&&(tt(),rt(c,1,1,(()=>{c=null})),et()),4&r){let e;for(s=t[2],e=0;e<s.length;e+=1){const i=cn(t,s,e);u[e]?(u[e].p(i,r),nt(u[e],1)):(u[e]=pn(i),u[e].c(),nt(u[e],1),u[e].m(n,null))}for(tt(),e=s.length;e<u.length;e+=1)f(e);et()}if(403&r){let e;for(d=Array(10),e=0;e<d.length;e+=1){const n=an(t,d,e);h[e]?h[e].p(n,r):(h[e]=bn(n),h[e].c(),h[e].m(i,null))}for(;e<h.length;e+=1)h[e].d(1);h.length=d.length}},i(t){if(!a){nt(c);for(let t=0;t<s.length;t+=1)nt(u[t]);a=!0}},o(t){rt(c),u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)rt(u[t]);a=!1},d(t){t&&x(e),c&&c.d(),w(u,t),w(h,t)}}}function hn(t){let e,n,r=t[3].predicted_scores,i=[];for(let e=0;e<r.length;e+=1)i[e]=gn(un(t,r,e));const o=t=>rt(i[t],1,1,(()=>{i[t]=null}));return{c(){e=$("g");for(let t=0;t<i.length;t+=1)i[t].c();E(e,"class","hist svelte-19h7nf5")},m(t,r){v(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(72&n){let l;for(r=t[3].predicted_scores,l=0;l<r.length;l+=1){const o=un(t,r,l);i[l]?(i[l].p(o,n),nt(i[l],1)):(i[l]=gn(o),i[l].c(),nt(i[l],1),i[l].m(e,null))}for(tt(),l=r.length;l<i.length;l+=1)o(l);et()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)nt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)rt(i[t]);n=!1},d(t){t&&x(e),w(i,t)}}}function gn(n){let r,l,a,c,s,u,d,h,g,b,y;return{c(){r=$("g"),l=$("line"),c=$("line"),d=$("line"),E(l,"x1",wn),E(l,"x2",a=n[6](n[21])),E(l,"y1",Mn+n[14]*xn),E(l,"y2",Mn+n[14]*xn+5),E(c,"x1",s=n[6](n[21])),E(c,"x2",u=n[6](n[21])),E(c,"y1",Mn+n[14]*xn+5),E(c,"y2",Mn+(1+n[14])*xn-5),E(d,"x1",wn),E(d,"x2",h=n[6](n[21])),E(d,"y1",Mn+(1+n[14])*xn),E(d,"y2",Mn+(1+n[14])*xn-5)},m(t,e){v(t,r,e),p(r,l),p(r,c),p(r,d),y=!0},p(t,e){(!y||8&e&&a!==(a=t[6](t[21])))&&E(l,"x2",a),(!y||8&e&&s!==(s=t[6](t[21])))&&E(c,"x1",s),(!y||8&e&&u!==(u=t[6](t[21])))&&E(c,"x2",u),(!y||8&e&&h!==(h=t[6](t[21])))&&E(d,"x2",h)},i(n){y||(V((()=>{b&&b.end(1),g=function(n,r,i){let l,a,c=r(n,i),s=!1,u=0;function d(){l&&D(n,l)}function h(){const{delay:r=0,duration:i=300,easing:o=e,tick:h=t,css:g}=c||it;g&&(l=R(n,0,1,i,r,o,g,u++)),h(0,1);const p=f()+r,b=p+i;a&&a.abort(),s=!0,V((()=>J(n,!0,"start"))),a=m((t=>{if(s){if(t>=b)return h(1,0),J(n,!0,"end"),d(),s=!1;if(t>=p){const e=o((t-p)/i);h(e,1-e)}}return s}))}let g=!1;return{start(){g||(g=!0,D(n),o(c)?(c=c(),Z().then(h)):h())},invalidate(){g=!1},end(){s&&(d(),s=!1)}}}(r,Ue,{x:-100,duration:500}),g.start()})),y=!0)},o(n){g&&g.invalidate(),b=function(n,r,l){let a,c=r(n,l),s=!0;const u=Q;function d(){const{delay:r=0,duration:o=300,easing:l=e,tick:d=t,css:h}=c||it;h&&(a=R(n,1,0,o,r,l,h));const g=f()+r,p=g+o;V((()=>J(n,!1,"start"))),m((t=>{if(s){if(t>=p)return d(0,1),J(n,!1,"end"),--u.r||i(u.c),!1;if(t>=g){const e=l((t-g)/o);d(1-e,e)}}return s}))}return u.r+=1,o(c)?Z().then((()=>{c=c(),d()})):d(),{end(t){t&&c.tick&&c.tick(1,0),s&&(a&&D(n,a),s=!1)}}}(r,Ge,{}),y=!1},d(t){t&&x(r),t&&b&&b.end()}}}function mn(t){let e,n;return e=new ln({props:{binData:t[18],binHeight:xn,binWidth:vn,tx:t[20]*vn,ty:t[17]*xn}}),{c(){lt(e.$$.fragment)},m(t,r){at(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.binData=t[18]),e.$set(r)},i(t){n||(nt(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){ct(e,t)}}}function pn(t){let e,n,r=t[15].bins,i=[];for(let e=0;e<r.length;e+=1)i[e]=mn(sn(t,r,e));const o=t=>rt(i[t],1,1,(()=>{i[t]=null}));return{c(){e=$("g");for(let t=0;t<i.length;t+=1)i[t].c();E(e,"class","classRow svelte-19h7nf5"),E(e,"height",xn)},m(t,r){v(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(4&n){let l;for(r=t[15].bins,l=0;l<r.length;l+=1){const o=sn(t,r,l);i[l]?(i[l].p(o,n),nt(i[l],1)):(i[l]=mn(o),i[l].c(),nt(i[l],1),i[l].m(e,null))}for(tt(),l=r.length;l<i.length;l+=1)o(l);et()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)nt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)rt(i[t]);n=!1},d(t){t&&x(e),w(i,t)}}}function bn(t){let e,n,r,o,l,a,c,s,u,f,d,h,g,m,b,y,w,M,_,N,A,S,q,C,z,R,D,P,H,O,B,L,I,F,W=(.1*t[14]).toPrecision(1)+"";function V(){return t[9](t[14])}function T(){return t[10](t[14])}return{c(){e=$("line"),a=$("g"),c=$("rect"),h=$("text"),g=k("Class "),m=k(t[14]),b=$("text"),y=k("Labeled "),w=k(t[14]),_=$("text"),N=k("Predicted "),A=k(t[14]),C=$("line"),H=$("text"),O=k(W),E(e,"x1",n=wn-2),E(e,"x2",r=t[4]+wn),E(e,"y1",o=Mn+t[14]*xn),E(e,"y2",l=Mn+t[14]*xn),E(c,"class","datum-color"),E(c,"transform","translate(38 -13)"),E(c,"width",s=12),E(c,"height",u=15),E(c,"fill",f=Ze[t[14]]),E(c,"stroke",d=Ze[t[14]]),E(h,"class","class-label svelte-19h7nf5"),E(b,"class","axis-text clickable-text svelte-19h7nf5"),E(b,"transform","translate(0 11)"),E(b,"text-decoration",M=t[0]==t[14]?"underline":"none"),E(_,"class","axis-text clickable-text svelte-19h7nf5"),E(_,"transform","translate(0 22)"),E(_,"text-decoration",S=t[1]==t[14]?"underline":"none"),E(a,"transform",q="translate(0 "+(Mn+(t[14]+.5)*xn)+")"),E(C,"x1",z=wn+t[14]*vn),E(C,"x2",R=wn+t[14]*vn),E(C,"y1",D=Mn+2),E(C,"y2",P=Mn-2),E(H,"x",B=wn+(t[14]-.1)*vn),E(H,"y",L=Mn-2),E(H,"class","axis-text svelte-19h7nf5")},m(t,n){v(t,e,n),v(t,a,n),p(a,c),p(a,h),p(h,g),p(h,m),p(a,b),p(b,y),p(b,w),p(a,_),p(_,N),p(_,A),v(t,C,n),v(t,H,n),p(H,O),I||(F=[j(b,"click",V),j(_,"click",T)],I=!0)},p(e,n){t=e,1&n&&M!==(M=t[0]==t[14]?"underline":"none")&&E(b,"text-decoration",M),2&n&&S!==(S=t[1]==t[14]?"underline":"none")&&E(_,"text-decoration",S)},d(t){t&&x(e),t&&x(a),t&&x(C),t&&x(H),I=!1,i(F)}}}function yn(t){let e,n,r,i;const o=[dn,fn],l=[];function a(t,e){return t[2]&&t[2][0]?0:1}return e=a(t),n=l[e]=o[e](t),{c(){n.c(),r=N()},m(t,n){l[e].m(t,n),v(t,r,n),i=!0},p(t,[i]){let c=e;e=a(t),e===c?l[e].p(t,i):(tt(),rt(l[c],1,1,(()=>{l[c]=null})),et(),n=l[e],n?n.p(t,i):(n=l[e]=o[e](t),n.c()),nt(n,1),n.m(r.parentNode,r))},i(t){i||(nt(n),i=!0)},o(t){rt(n),i=!1},d(t){l[e].d(t),t&&x(r)}}}const vn=70,xn=50,wn=60,Mn=10;function $n(t,e,n){let r,i,o,l;s(t,Ve,(t=>n(0,r=t))),s(t,Te,(t=>n(1,i=t))),s(t,Fe,(t=>n(2,o=t))),s(t,We,(t=>n(3,l=t))),We.subscribe((t=>{t||console.warn("Selected dataum not valid (SelectedImg)",{datum:t})}));const a=10*vn,c=10*xn;function u(t){console.log(t),-1==i?(Ve.set(-1),We.set(!1),Te.set(t)):Te.set(-1)}function f(t){console.log(t),-1==r?(Te.set(-1),We.set(!1),Ve.set(t)):Ve.set(-1)}console.log(a+wn);return[r,i,o,l,a,c,function(t){return wn+a*t},u,f,t=>f(t),t=>u(t)]}class kn extends ft{constructor(t){super(),ut(this,t,$n,yn,l,{})}}function _n(e){let n;return{c(){n=M("p"),n.textContent="Select a datapoint by hovering over item in Projection View or Score Distributions",E(n,"class","svelte-ixb5jc")},m(t,e){v(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}function Nn(t){let e,n,r,i,o,l,a,s,u,f,d,h,g,m,b,y,w,$,N,j,q,C,z=t[0].id+"",R=t[0].true_label+"",D=t[0].predicted_label+"";return{c(){e=M("div"),n=M("img"),l=_(),a=M("div"),s=M("p"),u=k("ID: "),f=k(z),d=_(),h=M("p"),g=k("Labeled: "),m=M("span"),b=k(R),y=_(),w=M("p"),$=k("Predicted: "),N=M("span"),j=k(D),E(n,"class","cover svelte-ixb5jc"),c(n.src,r=Ye+t[0].filename)||E(n,"src",r),E(n,"alt",i="selected img of id "+t[0].id+"."),E(e,"class","img-container"),E(s,"class","svelte-ixb5jc"),S(m,"background-color",Ze[t[0].true_label]),E(h,"class","svelte-ixb5jc"),S(N,"background-color",Ze[t[0].predicted_label]),E(w,"class","svelte-ixb5jc"),E(a,"class","selected-info")},m(t,r){v(t,e,r),p(e,n),v(t,l,r),v(t,a,r),p(a,s),p(s,u),p(s,f),p(a,d),p(a,h),p(h,g),p(h,m),p(m,b),p(a,y),p(a,w),p(w,$),p(w,N),p(N,j),C=!0},p(t,e){(!C||1&e&&!c(n.src,r=Ye+t[0].filename))&&E(n,"src",r),(!C||1&e&&i!==(i="selected img of id "+t[0].id+"."))&&E(n,"alt",i),(!C||1&e)&&z!==(z=t[0].id+"")&&A(f,z),(!C||1&e)&&R!==(R=t[0].true_label+"")&&A(b,R),(!C||1&e)&&S(m,"background-color",Ze[t[0].true_label]),(!C||1&e)&&D!==(D=t[0].predicted_label+"")&&A(j,D),(!C||1&e)&&S(N,"background-color",Ze[t[0].predicted_label])},i(t){C||(V((()=>{o||(o=ot(e,Ge,{},!0)),o.run(1)})),V((()=>{q||(q=ot(a,Ge,{},!0)),q.run(1)})),C=!0)},o(t){o||(o=ot(e,Ge,{},!1)),o.run(0),q||(q=ot(a,Ge,{},!1)),q.run(0),C=!1},d(t){t&&x(e),t&&o&&o.end(),t&&x(l),t&&x(a),t&&q&&q.end()}}}function jn(t){let e,n,r,i,o,l,a;const c=[Nn,_n],s=[];function u(t,e){return t[0]?0:1}return o=u(t),l=s[o]=c[o](t),{c(){e=M("div"),n=M("div"),n.textContent="Selected Image",r=_(),i=M("div"),l.c(),E(n,"class","view-title svelte-ixb5jc"),E(i,"id","selected-image-view-content"),E(i,"class","svelte-ixb5jc"),E(e,"id","selected-image-view"),E(e,"class","view-panel svelte-ixb5jc")},m(t,l){v(t,e,l),p(e,n),p(e,r),p(e,i),s[o].m(i,null),a=!0},p(t,[e]){let n=o;o=u(t),o===n?s[o].p(t,e):(tt(),rt(s[n],1,1,(()=>{s[n]=null})),et(),l=s[o],l?l.p(t,e):(l=s[o]=c[o](t),l.c()),nt(l,1),l.m(i,null))},i(t){a||(nt(l),a=!0)},o(t){rt(l),a=!1},d(t){t&&x(e),s[o].d()}}}function En(t,e,n){let r;return s(t,We,(t=>n(0,r=t))),[r]}class An extends ft{constructor(t){super(),ut(this,t,En,jn,l,{})}}function Sn(t,e,n){const r=t.slice();return r[12]=e[n],r[14]=n,r}function qn(e){let n;return{c(){n=M("p"),n.textContent="Data not loaded"},m(t,e){v(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}function Cn(t){let e,n,r=t[2],i=[];for(let e=0;e<r.length;e+=1)i[e]=Pn(Sn(t,r,e));const o=t=>rt(i[t],1,1,(()=>{i[t]=null}));return{c(){e=$("svg");for(let t=0;t<i.length;t+=1)i[t].c();E(e,"viewBox","0 0 "+Bn+" "+On),E(e,"class","svelte-tout1j")},m(t,r){v(t,e,r);for(let t=0;t<i.length;t+=1)i[t].m(e,null);n=!0},p(t,n){if(255&n){let l;for(r=t[2],l=0;l<r.length;l+=1){const o=Sn(t,r,l);i[l]?(i[l].p(o,n),nt(i[l],1)):(i[l]=Pn(o),i[l].c(),nt(i[l],1),i[l].m(e,null))}for(tt(),l=r.length;l<i.length;l+=1)o(l);et()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)nt(i[t]);n=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)rt(i[t]);n=!1},d(t){t&&x(e),w(i,t)}}}function zn(t){let e,n,r,o,l,a,c,s,u;function f(){return t[10](t[12],t[14])}return{c(){e=$("circle"),E(e,"cx",n=t[1](t[12].projection[0])),E(e,"cy",r=t[0](t[12].projection[1])),E(e,"r","0.5"),E(e,"opacity","0.8"),E(e,"fill",o=Ze[t[12].true_label]),E(e,"stroke",l=Ze[t[12].predicted_label]),E(e,"stroke-width","0.25")},m(n,r){v(n,e,r),c=!0,s||(u=[j(e,"mouseenter",f),j(e,"mouseleave",t[7])],s=!0)},p(i,a){t=i,(!c||6&a&&n!==(n=t[1](t[12].projection[0])))&&E(e,"cx",n),(!c||5&a&&r!==(r=t[0](t[12].projection[1])))&&E(e,"cy",r),(!c||4&a&&o!==(o=Ze[t[12].true_label]))&&E(e,"fill",o),(!c||4&a&&l!==(l=Ze[t[12].predicted_label]))&&E(e,"stroke",l)},i(t){c||(V((()=>{a||(a=ot(e,Ge,{},!0)),a.run(1)})),c=!0)},o(t){a||(a=ot(e,Ge,{},!1)),a.run(0),c=!1},d(t){t&&x(e),t&&a&&a.end(),s=!1,i(u)}}}function Rn(t){let e,n,r,o,l,a,c,s,u;function f(){return t[9](t[12],t[14])}return{c(){e=$("circle"),E(e,"cx",n=t[1](t[12].projection[0])),E(e,"cy",r=t[0](t[12].projection[1])),E(e,"r","0.5"),E(e,"opacity","0.2"),E(e,"fill",o=Ze[t[12].true_label]),E(e,"stroke",l=Ze[t[12].predicted_label]),E(e,"stroke-width","0.25")},m(n,r){v(n,e,r),c=!0,s||(u=[j(e,"mouseenter",f),j(e,"mouseleave",t[7])],s=!0)},p(i,a){t=i,(!c||6&a&&n!==(n=t[1](t[12].projection[0])))&&E(e,"cx",n),(!c||5&a&&r!==(r=t[0](t[12].projection[1])))&&E(e,"cy",r),(!c||4&a&&o!==(o=Ze[t[12].true_label]))&&E(e,"fill",o),(!c||4&a&&l!==(l=Ze[t[12].predicted_label]))&&E(e,"stroke",l)},i(t){c||(V((()=>{a||(a=ot(e,Ge,{},!0)),a.run(1)})),c=!0)},o(t){a||(a=ot(e,Ge,{},!1)),a.run(0),c=!1},d(t){t&&x(e),t&&a&&a.end(),s=!1,i(u)}}}function Dn(t){let e,n,r,o,l,a,c,s,u;function f(){return t[8](t[12],t[14])}return{c(){e=$("circle"),E(e,"cx",n=t[1](t[12].projection[0])),E(e,"cy",r=t[0](t[12].projection[1])),E(e,"r","2.0"),E(e,"opacity","0.9"),E(e,"fill",o=Ze[t[12].true_label]),E(e,"stroke",l=Ze[t[12].predicted_label]),E(e,"stroke-width","1.0")},m(n,r){v(n,e,r),c=!0,s||(u=[j(e,"mouseenter",f),j(e,"mouseleave",t[7])],s=!0)},p(i,a){t=i,(!c||6&a&&n!==(n=t[1](t[12].projection[0])))&&E(e,"cx",n),(!c||5&a&&r!==(r=t[0](t[12].projection[1])))&&E(e,"cy",r),(!c||4&a&&o!==(o=Ze[t[12].true_label]))&&E(e,"fill",o),(!c||4&a&&l!==(l=Ze[t[12].predicted_label]))&&E(e,"stroke",l)},i(t){c||(V((()=>{a||(a=ot(e,Ge,{},!0)),a.run(1)})),c=!0)},o(t){a||(a=ot(e,Ge,{},!1)),a.run(0),c=!1},d(t){t&&x(e),t&&a&&a.end(),s=!1,i(u)}}}function Pn(t){let e,n,r,i;const o=[Dn,Rn,zn],l=[];function a(t,e){return t[3]&&t[3].id==t[12].id?0:(t[3]?-1==t[4]&&-1==t[5]||t[5]!=t[12].predicted_label&&t[4]!=t[12].true_label:(-1!=t[4]||-1!=t[5])&&(t[5]!=t[12].predicted_label&&t[4]!=t[12].true_label))?1:2}return e=a(t),n=l[e]=o[e](t),{c(){n.c(),r=N()},m(t,n){l[e].m(t,n),v(t,r,n),i=!0},p(t,i){let c=e;e=a(t),e===c?l[e].p(t,i):(tt(),rt(l[c],1,1,(()=>{l[c]=null})),et(),n=l[e],n?n.p(t,i):(n=l[e]=o[e](t),n.c()),nt(n,1),n.m(r.parentNode,r))},i(t){i||(nt(n),i=!0)},o(t){rt(n),i=!1},d(t){l[e].d(t),t&&x(r)}}}function Hn(t){let e,n,r,i;const o=[Cn,qn],l=[];function a(t,e){return t[2]&&t[2][0]&&t[1]&&t[0]?0:1}return e=a(t),n=l[e]=o[e](t),{c(){n.c(),r=N()},m(t,n){l[e].m(t,n),v(t,r,n),i=!0},p(t,[i]){let c=e;e=a(t),e===c?l[e].p(t,i):(tt(),rt(l[c],1,1,(()=>{l[c]=null})),et(),n=l[e],n?n.p(t,i):(n=l[e]=o[e](t),n.c()),nt(n,1),n.m(r.parentNode,r))},i(t){i||(nt(n),i=!0)},o(t){rt(n),i=!1},d(t){l[e].d(t),t&&x(r)}}}const On=100,Bn=100;function Ln(t,e,n){let r,i,o,l;s(t,Ie,(t=>n(2,r=t))),s(t,We,(t=>n(3,i=t))),s(t,Ve,(t=>n(4,o=t))),s(t,Te,(t=>n(5,l=t)));const a=10,c=2,u=20,f=5;let d=!1,h=!1;function g(t,e){console.log("selected datum in scoreboxhist",{datum:t,i:e}),We.set({...t})}Ie.subscribe((t=>{if(!t)return;const e=[Math.min(...t.map((t=>t.projection[0]))),Math.max(...t.map((t=>t.projection[0])))],r=[Math.min(...t.map((t=>t.projection[1]))),Math.max(...t.map((t=>t.projection[1])))];n(0,d=Oe().domain(e).range([a,On-a-c])),n(1,h=Oe().domain(r).range([u,Bn-u-f])),console.log(r,e,[u,Bn-u-f],h(t[0].projection[0]),d(t[0].projection[1]))}));return[d,h,r,i,o,l,g,function(){We.set(!1)},(t,e)=>g(t,e),(t,e)=>g(t,e),(t,e)=>g(t,e)]}class In extends ft{constructor(t){super(),ut(this,t,Ln,Hn,l,{})}}function Fn(e){let n,r,i,o,l,a,c,s,u,f,d,h,g,m,b,y,w,$;return u=new In({}),d=new An({}),w=new kn({}),{c(){n=M("main"),r=M("h1"),r.textContent="Visual Analytics HW 3",i=_(),o=M("div"),l=M("div"),a=M("div"),c=M("div"),c.textContent="Projection View",s=_(),lt(u.$$.fragment),f=_(),lt(d.$$.fragment),h=_(),g=M("div"),m=M("div"),b=M("div"),b.textContent="Score Distributions",y=_(),lt(w.$$.fragment),E(r,"class","svelte-1jqapd5"),E(c,"class","view-title svelte-1jqapd5"),E(a,"id","projection-view"),E(a,"class","view-panel svelte-1jqapd5"),E(l,"id","sidebar"),S(l,"width","450px"),E(l,"class","svelte-1jqapd5"),E(b,"class","view-title svelte-1jqapd5"),E(m,"id","score-distributions-view"),E(m,"class","view-panel svelte-1jqapd5"),E(g,"id","main-section"),S(g,"width","1000px"),E(o,"id","container"),E(o,"class","svelte-1jqapd5")},m(t,e){v(t,n,e),p(n,r),p(n,i),p(n,o),p(o,l),p(l,a),p(a,c),p(a,s),at(u,a,null),p(l,f),at(d,l,null),p(o,h),p(o,g),p(g,m),p(m,b),p(m,y),at(w,m,null),$=!0},p:t,i(t){$||(nt(u.$$.fragment,t),nt(d.$$.fragment,t),nt(w.$$.fragment,t),$=!0)},o(t){rt(u.$$.fragment,t),rt(d.$$.fragment,t),rt(w.$$.fragment,t),$=!1},d(t){t&&x(n),ct(u),ct(d),ct(w)}}}function Wn(t){let e,n=[];return H((async()=>{const t=await fetch("./static/prediction_results.json");e=(await t.json()).test_instances;for(let t=0;t<10;++t){let r=[];for(let n=0;n<10;++n){const i=e.filter((e=>e.true_label==t)).filter((e=>{let r=.1*n,i=r+.1,o=e.predicted_scores[t];return o>=r&&o<=i}));r.push({class:t,binNo:n,instances:i})}n.push({class:t,bins:r})}console.log({binsByClasses:n,instances:e}),Ie.set(e),Fe.set(n)})),[]}return new class extends ft{constructor(t){super(),ut(this,t,Wn,Fn,l,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
