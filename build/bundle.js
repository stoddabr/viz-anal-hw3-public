var app=function(){"use strict";function t(){}const n=t=>t;function e(t){return t()}function r(){return Object.create(null)}function i(t){t.forEach(e)}function o(t){return"function"==typeof t}function a(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}let l;function c(t,n){return l||(l=document.createElement("a")),l.href=n,t===l.href}function s(n,e,r){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}(e,r))}const u="undefined"!=typeof window;let f=u?()=>window.performance.now():()=>Date.now(),h=u?t=>requestAnimationFrame(t):t;const d=new Set;function g(t){d.forEach((n=>{n.c(t)||(d.delete(n),n.f())})),0!==d.size&&h(g)}function p(t){let n;return 0===d.size&&h(g),{promise:new Promise((e=>{d.add(n={c:t,f:e})})),abort(){d.delete(n)}}}function m(t,n){t.appendChild(n)}function b(t){if(!t)return document;const n=t.getRootNode?t.getRootNode():t.ownerDocument;return n&&n.host?n:t.ownerDocument}function y(t){const n=M("style");return function(t,n){m(t.head||t,n)}(b(t),n),n.sheet}function v(t,n,e){t.insertBefore(n,e||null)}function x(t){t.parentNode.removeChild(t)}function w(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function M(t){return document.createElement(t)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function k(t){return document.createTextNode(t)}function N(){return k(" ")}function _(){return k("")}function j(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function E(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function A(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function S(t,n,e,r){null===e?t.style.removeProperty(n):t.style.setProperty(n,e,r?"important":"")}const q=new Map;let C,R=0;function D(t,n,e,r,i,o,a,l=0){const c=16.666/r;let s="{\n";for(let t=0;t<=1;t+=c){const r=n+(e-n)*o(t);s+=100*t+`%{${a(r,1-r)}}\n`}const u=s+`100% {${a(e,1-e)}}\n}`,f=`__svelte_${function(t){let n=5381,e=t.length;for(;e--;)n=(n<<5)-n^t.charCodeAt(e);return n>>>0}(u)}_${l}`,h=b(t),{stylesheet:d,rules:g}=q.get(h)||function(t,n){const e={stylesheet:y(n),rules:{}};return q.set(t,e),e}(h,t);g[f]||(g[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${f} ${r}ms linear ${i}ms 1 both`,R+=1,f}function z(t,n){const e=(t.style.animation||"").split(", "),r=e.filter(n?t=>t.indexOf(n)<0:t=>-1===t.indexOf("__svelte")),i=e.length-r.length;i&&(t.style.animation=r.join(", "),R-=i,R||h((()=>{R||(q.forEach((t=>{const{stylesheet:n}=t;let e=n.cssRules.length;for(;e--;)n.deleteRule(e);t.rules={}})),q.clear())})))}function P(t){C=t}function H(t){(function(){if(!C)throw new Error("Function called outside component initialization");return C})().$$.on_mount.push(t)}const O=[],B=[],L=[],I=[],F=Promise.resolve();let W=!1;function V(t){L.push(t)}const T=new Set;let X,G=0;function U(){const t=C;do{for(;G<O.length;){const t=O[G];G++,P(t),Y(t.$$)}for(P(null),O.length=0,G=0;B.length;)B.pop()();for(let t=0;t<L.length;t+=1){const n=L[t];T.has(n)||(T.add(n),n())}L.length=0}while(O.length);for(;I.length;)I.pop()();W=!1,T.clear(),P(t)}function Y(t){if(null!==t.fragment){t.update(),i(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(V)}}function Z(){return X||(X=Promise.resolve(),X.then((()=>{X=null}))),X}function J(t,n,e){t.dispatchEvent(function(t,n,e=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e,!1,n),r}(`${n?"intro":"outro"}${e}`))}const K=new Set;let Q;function tt(){Q={r:0,c:[],p:Q}}function nt(){Q.r||i(Q.c),Q=Q.p}function et(t,n){t&&t.i&&(K.delete(t),t.i(n))}function rt(t,n,e,r){if(t&&t.o){if(K.has(t))return;K.add(t),Q.c.push((()=>{K.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}const it={duration:0};function ot(e,r,a,l){let c=r(e,a),s=l?0:1,u=null,h=null,d=null;function g(){d&&z(e,d)}function m(t,n){const e=t.b-s;return n*=Math.abs(e),{a:s,b:t.b,d:e,duration:n,start:t.start,end:t.start+n,group:t.group}}function b(r){const{delay:o=0,duration:a=300,easing:l=n,tick:b=t,css:y}=c||it,v={start:f()+o,b:r};r||(v.group=Q,Q.r+=1),u||h?h=v:(y&&(g(),d=D(e,s,r,a,o,l,y)),r&&b(0,1),u=m(v,a),V((()=>J(e,r,"start"))),p((t=>{if(h&&t>h.start&&(u=m(h,a),h=null,J(e,u.b,"start"),y&&(g(),d=D(e,s,u.b,u.duration,0,l,c.css))),u)if(t>=u.end)b(s=u.b,1-s),J(e,u.b,"end"),h||(u.b?g():--u.group.r||i(u.group.c)),u=null;else if(t>=u.start){const n=t-u.start;s=u.a+u.d*l(n/u.duration),b(s,1-s)}return!(!u&&!h)})))}return{run(t){o(c)?Z().then((()=>{c=c(),b(t)})):b(t)},end(){g(),u=h=null}}}function at(t){t&&t.c()}function lt(t,n,r,a){const{fragment:l,on_mount:c,on_destroy:s,after_update:u}=t.$$;l&&l.m(n,r),a||V((()=>{const n=c.map(e).filter(o);s?s.push(...n):i(n),t.$$.on_mount=[]})),u.forEach(V)}function ct(t,n){const e=t.$$;null!==e.fragment&&(i(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function st(t,n){-1===t.$$.dirty[0]&&(O.push(t),W||(W=!0,F.then(U)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function ut(n,e,o,a,l,c,s,u=[-1]){const f=C;P(n);const h=n.$$={fragment:null,ctx:null,props:c,update:t,not_equal:l,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};s&&s(h.root);let d=!1;if(h.ctx=o?o(n,e.props||{},((t,e,...r)=>{const i=r.length?r[0]:e;return h.ctx&&l(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),d&&st(n,t)),e})):[],h.update(),d=!0,i(h.before_update),h.fragment=!!a&&a(h.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);h.fragment&&h.fragment.l(t),t.forEach(x)}else h.fragment&&h.fragment.c();e.intro&&et(n.$$.fragment),lt(n,e.target,e.anchor,e.customElement),U()}P(f)}class ft{$destroy(){ct(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ht(t,n){return null==t||null==n?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function dt(t){let n=t,e=t,r=t;function i(t,n,i=0,o=t.length){if(i<o){if(0!==e(n,n))return o;do{const e=i+o>>>1;r(t[e],n)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length&&(n=(n,e)=>t(n)-e,e=ht,r=(n,e)=>ht(t(n),e)),{left:i,center:function(t,e,r=0,o=t.length){const a=i(t,e,r,o-1);return a>r&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,i=0,o=t.length){if(i<o){if(0!==e(n,n))return o;do{const e=i+o>>>1;r(t[e],n)<=0?i=e+1:o=e}while(i<o)}return i}}}const gt=dt(ht).right;dt((function(t){return null===t?NaN:+t})).center;var pt=gt,mt=Math.sqrt(50),bt=Math.sqrt(10),yt=Math.sqrt(2);function vt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=mt?10:o>=bt?5:o>=yt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=mt?10:o>=bt?5:o>=yt?2:1)}function xt(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function wt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Mt(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function $t(){}var kt=.7,Nt=1/kt,_t="\\s*([+-]?\\d+)\\s*",jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",At=/^#([0-9a-f]{3,8})$/,St=new RegExp("^rgb\\("+[_t,_t,_t]+"\\)$"),qt=new RegExp("^rgb\\("+[Et,Et,Et]+"\\)$"),Ct=new RegExp("^rgba\\("+[_t,_t,_t,jt]+"\\)$"),Rt=new RegExp("^rgba\\("+[Et,Et,Et,jt]+"\\)$"),Dt=new RegExp("^hsl\\("+[jt,Et,Et]+"\\)$"),zt=new RegExp("^hsla\\("+[jt,Et,Et,jt]+"\\)$"),Pt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ht(){return this.rgb().formatHex()}function Ot(){return this.rgb().formatRgb()}function Bt(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=At.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Lt(n):3===e?new Vt(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?It(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?It(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=St.exec(t))?new Vt(n[1],n[2],n[3],1):(n=qt.exec(t))?new Vt(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Ct.exec(t))?It(n[1],n[2],n[3],n[4]):(n=Rt.exec(t))?It(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Dt.exec(t))?Ut(n[1],n[2]/100,n[3]/100,1):(n=zt.exec(t))?Ut(n[1],n[2]/100,n[3]/100,n[4]):Pt.hasOwnProperty(t)?Lt(Pt[t]):"transparent"===t?new Vt(NaN,NaN,NaN,0):null}function Lt(t){return new Vt(t>>16&255,t>>8&255,255&t,1)}function It(t,n,e,r){return r<=0&&(t=n=e=NaN),new Vt(t,n,e,r)}function Ft(t){return t instanceof $t||(t=Bt(t)),t?new Vt((t=t.rgb()).r,t.g,t.b,t.opacity):new Vt}function Wt(t,n,e,r){return 1===arguments.length?Ft(t):new Vt(t,n,e,null==r?1:r)}function Vt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Tt(){return"#"+Gt(this.r)+Gt(this.g)+Gt(this.b)}function Xt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Gt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ut(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Zt(t,n,e,r)}function Yt(t){if(t instanceof Zt)return new Zt(t.h,t.s,t.l,t.opacity);if(t instanceof $t||(t=Bt(t)),!t)return new Zt;if(t instanceof Zt)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,l=o-i,c=(o+i)/2;return l?(a=n===o?(e-r)/l+6*(e<r):e===o?(r-n)/l+2:(n-e)/l+4,l/=c<.5?o+i:2-o-i,a*=60):l=c>0&&c<1?0:a,new Zt(a,l,c,t.opacity)}function Zt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Jt(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}wt($t,Bt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ht,formatHex:Ht,formatHsl:function(){return Yt(this).formatHsl()},formatRgb:Ot,toString:Ot}),wt(Vt,Wt,Mt($t,{brighter:function(t){return t=null==t?Nt:Math.pow(Nt,t),new Vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?kt:Math.pow(kt,t),new Vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tt,formatHex:Tt,formatRgb:Xt,toString:Xt})),wt(Zt,(function(t,n,e,r){return 1===arguments.length?Yt(t):new Zt(t,n,e,null==r?1:r)}),Mt($t,{brighter:function(t){return t=null==t?Nt:Math.pow(Nt,t),new Zt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?kt:Math.pow(kt,t),new Zt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Vt(Jt(t>=240?t-240:t+120,i,r),Jt(t,i,r),Jt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Kt=t=>()=>t;function Qt(t){return 1==(t=+t)?tn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Kt(isNaN(n)?e:n)}}function tn(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Kt(isNaN(t)?n:t)}var nn=function t(n){var e=Qt(n);function r(t,n){var r=e((t=Wt(t)).r,(n=Wt(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=tn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function en(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function rn(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=fn(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function on(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function an(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function ln(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=fn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var cn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sn=new RegExp(cn.source,"g");function un(t,n){var e,r,i,o=cn.lastIndex=sn.lastIndex=0,a=-1,l=[],c=[];for(t+="",n+="";(e=cn.exec(t))&&(r=sn.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),l[a]?l[a]+=i:l[++a]=i),(e=e[0])===(r=r[0])?l[a]?l[a]+=r:l[++a]=r:(l[++a]=null,c.push({i:a,x:an(e,r)})),o=sn.lastIndex;return o<n.length&&(i=n.slice(o),l[a]?l[a]+=i:l[++a]=i),l.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)l[(e=c[r]).i]=e.x(t);return l.join("")})}function fn(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?Kt(n):("number"===i?an:"string"===i?(e=Bt(n))?(n=e,nn):un:n instanceof Bt?nn:n instanceof Date?on:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?rn:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?ln:an:en))(t,n)}function hn(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function dn(t){return+t}var gn=[0,1];function pn(t){return t}function mn(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function bn(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=mn(i,r),o=e(a,o)):(r=mn(r,i),o=e(o,a)),function(t){return o(r(t))}}function yn(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=mn(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=pt(t,n,1,r)-1;return o[e](i[e](n))}}function vn(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function xn(){var t,n,e,r,i,o,a=gn,l=gn,c=fn,s=pn;function u(){var t,n,e,c=Math.min(a.length,l.length);return s!==pn&&(t=a[0],n=a[c-1],t>n&&(e=t,t=n,n=e),s=function(e){return Math.max(t,Math.min(n,e))}),r=c>2?yn:bn,i=o=null,f}function f(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),l,c)))(t(s(n)))}return f.invert=function(e){return s(n((o||(o=r(l,a.map(t),an)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,dn),u()):a.slice()},f.range=function(t){return arguments.length?(l=Array.from(t),u()):l.slice()},f.rangeRound=function(t){return l=Array.from(t),c=hn,u()},f.clamp=function(t){return arguments.length?(s=!!t||pn,u()):s!==pn},f.interpolate=function(t){return arguments.length?(c=t,u()):c},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,u()}}function wn(){return xn()(pn,pn)}function Mn(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function $n(t){return(t=Mn(Math.abs(t)))?t[1]:NaN}var kn,Nn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _n(t){if(!(n=Nn.exec(t)))throw new Error("invalid format: "+t);var n;return new jn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function jn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function En(t,n){var e=Mn(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}_n.prototype=jn.prototype,jn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var An={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>En(100*t,n),r:En,s:function(t,n){var e=Mn(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(kn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Mn(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Sn(t){return t}var qn,Cn,Rn,Dn=Array.prototype.map,zn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Pn(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Sn:(n=Dn.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,l=n[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(t.substring(i-=l,i+l)),!((c+=l+1)>r));)l=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",l=void 0===t.numerals?Sn:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(Dn.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=_n(t)).fill,e=t.align,f=t.sign,h=t.symbol,d=t.zero,g=t.width,p=t.comma,m=t.precision,b=t.trim,y=t.type;"n"===y?(p=!0,y="g"):An[y]||(void 0===m&&(m=12),b=!0,y="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var v="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?o:/[%p]/.test(y)?c:"",w=An[y],M=/[defgprs%]/.test(y);function $(t){var i,o,c,h=v,$=x;if("c"===y)$=w(t)+$,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),m),b&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),k&&0==+t&&"+"!==f&&(k=!1),h=(k?"("===f?f:s:"-"===f||"("===f?"":f)+h,$=("s"===y?zn[8+kn/3]:"")+$+(k&&"("===f?")":""),M)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){$=(46===c?a+t.slice(i+1):t.slice(i))+$,t=t.slice(0,i);break}}p&&!d&&(t=r(t,1/0));var N=h.length+t.length+$.length,_=N<g?new Array(g-N+1).join(n):"";switch(p&&d&&(t=r(_+t,_.length?g-$.length:1/0),_=""),e){case"<":t=h+t+$+_;break;case"=":t=h+_+t+$;break;case"^":t=_.slice(0,N=_.length>>1)+h+t+$+_.slice(N);break;default:t=_+h+t+$}return l(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),$.toString=function(){return t+""},$}return{format:f,formatPrefix:function(t,n){var e=f(((t=_n(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor($n(n)/3))),i=Math.pow(10,-r),o=zn[8+r/3];return function(t){return e(i*t)+o}}}}function Hn(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=mt?i*=10:o>=bt?i*=5:o>=yt&&(i*=2),n<t?-i:i}(t,n,e);switch((r=_n(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor($n(n)/3)))-$n(Math.abs(t)))}(o,a))||(r.precision=i),Rn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,$n(n)-$n(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-$n(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Cn(r)}function On(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,l=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=vt(t,n,e))||!isFinite(a))return[];if(a>0){let e=Math.round(t/a),r=Math.round(n/a);for(e*a<t&&++e,r*a>n&&--r,o=new Array(i=r-e+1);++l<i;)o[l]=(e+l)*a}else{a=-a;let e=Math.round(t*a),r=Math.round(n*a);for(e/a<t&&++e,r/a>n&&--r,o=new Array(i=r-e+1);++l<i;)o[l]=(e+l)/a}return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Hn(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,l=o.length-1,c=o[a],s=o[l],u=10;for(s<c&&(i=c,c=s,s=i,i=a,a=l,l=i);u-- >0;){if((i=vt(c,s,e))===r)return o[a]=c,o[l]=s,n(o);if(i>0)c=Math.floor(c/i)*i,s=Math.ceil(s/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,s=Math.floor(s*i)/i}r=i}return t},t}function Bn(){var t=wn();return t.copy=function(){return vn(t,Bn())},xt.apply(t,arguments),On(t)}qn=Pn({thousands:",",grouping:[3],currency:["$",""]}),Cn=qn.format,Rn=qn.formatPrefix;const Ln=[];function In(n,e=t){let r;const i=new Set;function o(t){if(a(n,t)&&(n=t,r)){const t=!Ln.length;for(const t of i)t[1](),Ln.push(t,n);if(t){for(let t=0;t<Ln.length;t+=2)Ln[t][0](Ln[t+1]);Ln.length=0}}}return{set:o,update:function(t){o(t(n))},subscribe:function(a,l=t){const c=[a,l];return i.add(c),1===i.size&&(r=e(o)||t),a(n),()=>{i.delete(c),0===i.size&&(r(),r=null)}}}}const Fn=In(!1),Wn=In(!1),Vn=In(!1),Tn=In(-1),Xn=In(-1);function Gn(t){const n=t-1;return n*n*n+1}function Un(t,{delay:e=0,duration:r=400,easing:i=n}={}){const o=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:i,css:t=>"opacity: "+t*o}}function Yn(t,{delay:n=0,duration:e=400,easing:r=Gn,x:i=0,y:o=0,opacity:a=0}={}){const l=getComputedStyle(t),c=+l.opacity,s="none"===l.transform?"":l.transform,u=c*(1-a);return{delay:n,duration:e,easing:r,css:(t,n)=>`\n\t\t\ttransform: ${s} translate(${(1-t)*i}px, ${(1-t)*o}px);\n\t\t\topacity: ${c-u*n}`}}const Zn="./static/images/",Jn=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"];function Kn(t,n,e){const r=t.slice();return r[12]=n[e],r[14]=e,r}function Qn(t){let n,e,r,o,a,l,c,s,u,f,h,d,g,p;function b(){return t[10](t[12],t[14])}return{c(){n=$("g"),e=$("rect"),s=$("image"),E(e,"class","datum-color svelte-yz1van"),E(e,"width",r=ne-2),E(e,"height",o=ne-2),E(e,"fill",a=Jn[t[12].true_label]),E(e,"stroke",l=Jn[t[12].predicted_label]),E(e,"opacity",c=t[4]&&t[4].id!=t[12].id?"0.3":"1.0"),E(s,"class","datum-img svelte-yz1van"),E(s,"href",u=Zn+t[12].filename),E(s,"alt",f="datum "+t[12].id),E(s,"width",h=ne-2),E(n,"transform",d="translate("+t[7](t[14])+" "+(t[3]-ne-t[8](t[14]))+")")},m(r,i){v(r,n,i),m(n,e),m(n,s),g||(p=[j(s,"mouseenter",b),j(s,"mouseleave",t[6])],g=!0)},p(r,i){t=r,1&i&&a!==(a=Jn[t[12].true_label])&&E(e,"fill",a),1&i&&l!==(l=Jn[t[12].predicted_label])&&E(e,"stroke",l),17&i&&c!==(c=t[4]&&t[4].id!=t[12].id?"0.3":"1.0")&&E(e,"opacity",c),1&i&&u!==(u=Zn+t[12].filename)&&E(s,"href",u),1&i&&f!==(f="datum "+t[12].id)&&E(s,"alt",f),8&i&&d!==(d="translate("+t[7](t[14])+" "+(t[3]-ne-t[8](t[14]))+")")&&E(n,"transform",d)},d(t){t&&x(n),g=!1,i(p)}}}function te(n){let e,r,i=n[0].instances,o=[];for(let t=0;t<i.length;t+=1)o[t]=Qn(Kn(n,i,t));return{c(){e=$("g");for(let t=0;t<o.length;t+=1)o[t].c();E(e,"transform",r="translate("+n[1]+" "+n[2]+")")},m(t,n){v(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,[n]){if(505&n){let r;for(i=t[0].instances,r=0;r<i.length;r+=1){const a=Kn(t,i,r);o[r]?o[r].p(a,n):(o[r]=Qn(a),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}6&n&&r!==(r="translate("+t[1]+" "+t[2]+")")&&E(e,"transform",r)},i:t,o:t,d(t){t&&x(e),w(o,t)}}}const ne=8;function ee(t,n,e){let r;s(t,Vn,(t=>e(4,r=t)));let{binData:i}=n,{tx:o}=n,{ty:a}=n,{binWidth:l}=n,{binHeight:c}=n;function u(t,n){console.log("selected datum in scoreboxhist",{datum:t,i:n}),Vn.set({...t})}return t.$$set=t=>{"binData"in t&&e(0,i=t.binData),"tx"in t&&e(1,o=t.tx),"ty"in t&&e(2,a=t.ty),"binWidth"in t&&e(9,l=t.binWidth),"binHeight"in t&&e(3,c=t.binHeight)},[i,o,a,c,r,u,function(){Vn.set(!1)},function(t){const n=Math.floor(l/ne);return ne*(t%n)},function(t){const n=Math.floor(l/ne);return Math.floor(t/n)*ne},l,(t,n)=>u(t,n)]}class re extends ft{constructor(t){super(),ut(this,t,ee,te,a,{binData:0,tx:1,ty:2,binWidth:9,binHeight:3})}}function ie(t,n,e){const r=t.slice();return r[12]=n[e],r[14]=e,r}function oe(t,n,e){const r=t.slice();return r[15]=n[e],r[17]=e,r}function ae(t,n,e){const r=t.slice();return r[18]=n[e],r[20]=e,r}function le(t,n,e){const r=t.slice();return r[21]=n[e],r[14]=e,r}function ce(n){let e;return{c(){e=M("p"),e.textContent="Data not loaded"},m(t,n){v(t,e,n)},p:t,i:t,o:t,d(t){t&&x(e)}}}function se(t){let n,e,r,i,o,a,l,c=t[3]&&ue(t),s=t[2],u=[];for(let n=0;n<s.length;n+=1)u[n]=de(oe(t,s,n));const f=t=>rt(u[t],1,1,(()=>{u[t]=null}));let h=Array(10),d=[];for(let n=0;n<h.length;n+=1)d[n]=ge(ie(t,h,n));return{c(){n=$("svg"),c&&c.c(),e=$("g");for(let t=0;t<u.length;t+=1)u[t].c();r=$("g"),i=$("g");for(let t=0;t<d.length;t+=1)d[t].c();o=$("line"),a=$("line"),E(e,"class","chartArea"),E(e,"transform","translate("+ye+" "+ve+")"),E(i,"class","marks"),E(o,"x1",ye),E(o,"y1",ve),E(o,"x2",ye+t[4]),E(o,"y2",ve),E(a,"x1",ye),E(a,"y1",ve),E(a,"x2",ye),E(a,"y2",ve+t[5]),E(r,"class","axis svelte-19h7nf5"),E(n,"viewBox","0 0 "+(t[4]+ye)+" "+(t[5]+ve)),E(n,"class","svelte-19h7nf5")},m(t,s){v(t,n,s),c&&c.m(n,null),m(n,e);for(let t=0;t<u.length;t+=1)u[t].m(e,null);m(n,r),m(r,i);for(let t=0;t<d.length;t+=1)d[t].m(i,null);m(r,o),m(r,a),l=!0},p(t,r){if(t[3]?c?(c.p(t,r),8&r&&et(c,1)):(c=ue(t),c.c(),et(c,1),c.m(n,e)):c&&(tt(),rt(c,1,1,(()=>{c=null})),nt()),4&r){let n;for(s=t[2],n=0;n<s.length;n+=1){const i=oe(t,s,n);u[n]?(u[n].p(i,r),et(u[n],1)):(u[n]=de(i),u[n].c(),et(u[n],1),u[n].m(e,null))}for(tt(),n=s.length;n<u.length;n+=1)f(n);nt()}if(403&r){let n;for(h=Array(10),n=0;n<h.length;n+=1){const e=ie(t,h,n);d[n]?d[n].p(e,r):(d[n]=ge(e),d[n].c(),d[n].m(i,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=h.length}},i(t){if(!l){et(c);for(let t=0;t<s.length;t+=1)et(u[t]);l=!0}},o(t){rt(c),u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)rt(u[t]);l=!1},d(t){t&&x(n),c&&c.d(),w(u,t),w(d,t)}}}function ue(t){let n,e,r=t[3].predicted_scores,i=[];for(let n=0;n<r.length;n+=1)i[n]=fe(le(t,r,n));const o=t=>rt(i[t],1,1,(()=>{i[t]=null}));return{c(){n=$("g");for(let t=0;t<i.length;t+=1)i[t].c();E(n,"class","hist svelte-19h7nf5")},m(t,r){v(t,n,r);for(let t=0;t<i.length;t+=1)i[t].m(n,null);e=!0},p(t,e){if(72&e){let a;for(r=t[3].predicted_scores,a=0;a<r.length;a+=1){const o=le(t,r,a);i[a]?(i[a].p(o,e),et(i[a],1)):(i[a]=fe(o),i[a].c(),et(i[a],1),i[a].m(n,null))}for(tt(),a=r.length;a<i.length;a+=1)o(a);nt()}},i(t){if(!e){for(let t=0;t<r.length;t+=1)et(i[t]);e=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)rt(i[t]);e=!1},d(t){t&&x(n),w(i,t)}}}function fe(e){let r,a,l,c,s,u,h,d,g,b,y;return{c(){r=$("g"),a=$("line"),c=$("line"),h=$("line"),E(a,"x1",ye),E(a,"x2",l=e[6](e[21])),E(a,"y1",ve+e[14]*be),E(a,"y2",ve+e[14]*be+5),E(c,"x1",s=e[6](e[21])),E(c,"x2",u=e[6](e[21])),E(c,"y1",ve+e[14]*be+5),E(c,"y2",ve+(1+e[14])*be-5),E(h,"x1",ye),E(h,"x2",d=e[6](e[21])),E(h,"y1",ve+(1+e[14])*be),E(h,"y2",ve+(1+e[14])*be-5)},m(t,n){v(t,r,n),m(r,a),m(r,c),m(r,h),y=!0},p(t,n){(!y||8&n&&l!==(l=t[6](t[21])))&&E(a,"x2",l),(!y||8&n&&s!==(s=t[6](t[21])))&&E(c,"x1",s),(!y||8&n&&u!==(u=t[6](t[21])))&&E(c,"x2",u),(!y||8&n&&d!==(d=t[6](t[21])))&&E(h,"x2",d)},i(e){y||(V((()=>{b&&b.end(1),g=function(e,r,i){let a,l,c=r(e,i),s=!1,u=0;function h(){a&&z(e,a)}function d(){const{delay:r=0,duration:i=300,easing:o=n,tick:d=t,css:g}=c||it;g&&(a=D(e,0,1,i,r,o,g,u++)),d(0,1);const m=f()+r,b=m+i;l&&l.abort(),s=!0,V((()=>J(e,!0,"start"))),l=p((t=>{if(s){if(t>=b)return d(1,0),J(e,!0,"end"),h(),s=!1;if(t>=m){const n=o((t-m)/i);d(n,1-n)}}return s}))}let g=!1;return{start(){g||(g=!0,z(e),o(c)?(c=c(),Z().then(d)):d())},invalidate(){g=!1},end(){s&&(h(),s=!1)}}}(r,Yn,{x:-100,duration:500}),g.start()})),y=!0)},o(e){g&&g.invalidate(),b=function(e,r,a){let l,c=r(e,a),s=!0;const u=Q;function h(){const{delay:r=0,duration:o=300,easing:a=n,tick:h=t,css:d}=c||it;d&&(l=D(e,1,0,o,r,a,d));const g=f()+r,m=g+o;V((()=>J(e,!1,"start"))),p((t=>{if(s){if(t>=m)return h(0,1),J(e,!1,"end"),--u.r||i(u.c),!1;if(t>=g){const n=a((t-g)/o);h(1-n,n)}}return s}))}return u.r+=1,o(c)?Z().then((()=>{c=c(),h()})):h(),{end(t){t&&c.tick&&c.tick(1,0),s&&(l&&z(e,l),s=!1)}}}(r,Un,{}),y=!1},d(t){t&&x(r),t&&b&&b.end()}}}function he(t){let n,e;return n=new re({props:{binData:t[18],binHeight:be,binWidth:me,tx:t[20]*me,ty:t[17]*be}}),{c(){at(n.$$.fragment)},m(t,r){lt(n,t,r),e=!0},p(t,e){const r={};4&e&&(r.binData=t[18]),n.$set(r)},i(t){e||(et(n.$$.fragment,t),e=!0)},o(t){rt(n.$$.fragment,t),e=!1},d(t){ct(n,t)}}}function de(t){let n,e,r=t[15].bins,i=[];for(let n=0;n<r.length;n+=1)i[n]=he(ae(t,r,n));const o=t=>rt(i[t],1,1,(()=>{i[t]=null}));return{c(){n=$("g");for(let t=0;t<i.length;t+=1)i[t].c();E(n,"class","classRow svelte-19h7nf5"),E(n,"height",be)},m(t,r){v(t,n,r);for(let t=0;t<i.length;t+=1)i[t].m(n,null);e=!0},p(t,e){if(4&e){let a;for(r=t[15].bins,a=0;a<r.length;a+=1){const o=ae(t,r,a);i[a]?(i[a].p(o,e),et(i[a],1)):(i[a]=he(o),i[a].c(),et(i[a],1),i[a].m(n,null))}for(tt(),a=r.length;a<i.length;a+=1)o(a);nt()}},i(t){if(!e){for(let t=0;t<r.length;t+=1)et(i[t]);e=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)rt(i[t]);e=!1},d(t){t&&x(n),w(i,t)}}}function ge(t){let n,e,r,o,a,l,c,s,u,f,h,d,g,p,b,y,w,M,N,_,A,S,q,C,R,D,z,P,H,O,B,L,I,F,W=(.1*t[14]).toPrecision(1)+"";function V(){return t[9](t[14])}function T(){return t[10](t[14])}return{c(){n=$("line"),l=$("g"),c=$("rect"),d=$("text"),g=k("Class "),p=k(t[14]),b=$("text"),y=k("Labeled "),w=k(t[14]),N=$("text"),_=k("Predicted "),A=k(t[14]),C=$("line"),H=$("text"),O=k(W),E(n,"x1",e=ye-2),E(n,"x2",r=t[4]+ye),E(n,"y1",o=ve+t[14]*be),E(n,"y2",a=ve+t[14]*be),E(c,"class","datum-color"),E(c,"transform","translate(38 -13)"),E(c,"width",s=12),E(c,"height",u=15),E(c,"fill",f=Jn[t[14]]),E(c,"stroke",h=Jn[t[14]]),E(d,"class","class-label svelte-19h7nf5"),E(b,"class","axis-text clickable-text svelte-19h7nf5"),E(b,"transform","translate(0 11)"),E(b,"text-decoration",M=t[0]==t[14]?"underline":"none"),E(N,"class","axis-text clickable-text svelte-19h7nf5"),E(N,"transform","translate(0 22)"),E(N,"text-decoration",S=t[1]==t[14]?"underline":"none"),E(l,"transform",q="translate(0 "+(ve+(t[14]+.5)*be)+")"),E(C,"x1",R=ye+t[14]*me),E(C,"x2",D=ye+t[14]*me),E(C,"y1",z=ve+2),E(C,"y2",P=ve-2),E(H,"x",B=ye+(t[14]-.1)*me),E(H,"y",L=ve-2),E(H,"class","axis-text svelte-19h7nf5")},m(t,e){v(t,n,e),v(t,l,e),m(l,c),m(l,d),m(d,g),m(d,p),m(l,b),m(b,y),m(b,w),m(l,N),m(N,_),m(N,A),v(t,C,e),v(t,H,e),m(H,O),I||(F=[j(b,"click",V),j(N,"click",T)],I=!0)},p(n,e){t=n,1&e&&M!==(M=t[0]==t[14]?"underline":"none")&&E(b,"text-decoration",M),2&e&&S!==(S=t[1]==t[14]?"underline":"none")&&E(N,"text-decoration",S)},d(t){t&&x(n),t&&x(l),t&&x(C),t&&x(H),I=!1,i(F)}}}function pe(t){let n,e,r,i;const o=[se,ce],a=[];function l(t,n){return t[2]&&t[2][0]?0:1}return n=l(t),e=a[n]=o[n](t),{c(){e.c(),r=_()},m(t,e){a[n].m(t,e),v(t,r,e),i=!0},p(t,[i]){let c=n;n=l(t),n===c?a[n].p(t,i):(tt(),rt(a[c],1,1,(()=>{a[c]=null})),nt(),e=a[n],e?e.p(t,i):(e=a[n]=o[n](t),e.c()),et(e,1),e.m(r.parentNode,r))},i(t){i||(et(e),i=!0)},o(t){rt(e),i=!1},d(t){a[n].d(t),t&&x(r)}}}const me=70,be=50,ye=60,ve=10;function xe(t,n,e){let r,i,o,a;s(t,Tn,(t=>e(0,r=t))),s(t,Xn,(t=>e(1,i=t))),s(t,Wn,(t=>e(2,o=t))),s(t,Vn,(t=>e(3,a=t))),Vn.subscribe((t=>{t||console.warn("Selected dataum not valid (SelectedImg)",{datum:t})}));const l=10*me,c=10*be;function u(t){console.log(t),-1==i?(Tn.set(-1),Vn.set(!1),Xn.set(t)):Xn.set(-1)}function f(t){console.log(t),-1==r?(Xn.set(-1),Vn.set(!1),Tn.set(t)):Tn.set(-1)}console.log(l+ye);return[r,i,o,a,l,c,function(t){return ye+l*t},u,f,t=>f(t),t=>u(t)]}class we extends ft{constructor(t){super(),ut(this,t,xe,pe,a,{})}}function Me(n){let e;return{c(){e=M("p"),e.textContent="Select by hovering over item in Projection View or Score Distributions",E(e,"class","svelte-ixb5jc")},m(t,n){v(t,e,n)},p:t,i:t,o:t,d(t){t&&x(e)}}}function $e(t){let n,e,r,i,o,a,l,s,u,f,h,d,g,p,b,y,w,$,_,j,q,C,R=t[0].id+"",D=t[0].true_label+"",z=t[0].predicted_label+"";return{c(){n=M("div"),e=M("img"),a=N(),l=M("div"),s=M("p"),u=k("ID: "),f=k(R),h=N(),d=M("p"),g=k("Labeled: "),p=M("span"),b=k(D),y=N(),w=M("p"),$=k("Predicted: "),_=M("span"),j=k(z),E(e,"class","cover svelte-ixb5jc"),c(e.src,r=Zn+t[0].filename)||E(e,"src",r),E(e,"alt",i="selected img of id "+t[0].id+"."),E(n,"class","img-container"),E(s,"class","svelte-ixb5jc"),S(p,"background-color",Jn[t[0].true_label]),E(d,"class","svelte-ixb5jc"),S(_,"background-color",Jn[t[0].predicted_label]),E(w,"class","svelte-ixb5jc"),E(l,"class","selected-info")},m(t,r){v(t,n,r),m(n,e),v(t,a,r),v(t,l,r),m(l,s),m(s,u),m(s,f),m(l,h),m(l,d),m(d,g),m(d,p),m(p,b),m(l,y),m(l,w),m(w,$),m(w,_),m(_,j),C=!0},p(t,n){(!C||1&n&&!c(e.src,r=Zn+t[0].filename))&&E(e,"src",r),(!C||1&n&&i!==(i="selected img of id "+t[0].id+"."))&&E(e,"alt",i),(!C||1&n)&&R!==(R=t[0].id+"")&&A(f,R),(!C||1&n)&&D!==(D=t[0].true_label+"")&&A(b,D),(!C||1&n)&&S(p,"background-color",Jn[t[0].true_label]),(!C||1&n)&&z!==(z=t[0].predicted_label+"")&&A(j,z),(!C||1&n)&&S(_,"background-color",Jn[t[0].predicted_label])},i(t){C||(V((()=>{o||(o=ot(n,Un,{},!0)),o.run(1)})),V((()=>{q||(q=ot(l,Un,{},!0)),q.run(1)})),C=!0)},o(t){o||(o=ot(n,Un,{},!1)),o.run(0),q||(q=ot(l,Un,{},!1)),q.run(0),C=!1},d(t){t&&x(n),t&&o&&o.end(),t&&x(a),t&&x(l),t&&q&&q.end()}}}function ke(t){let n,e,r,i,o,a,l;const c=[$e,Me],s=[];function u(t,n){return t[0]?0:1}return o=u(t),a=s[o]=c[o](t),{c(){n=M("div"),e=M("div"),e.textContent="Selected Image",r=N(),i=M("div"),a.c(),E(e,"class","view-title svelte-ixb5jc"),E(i,"id","selected-image-view-content"),E(i,"class","svelte-ixb5jc"),E(n,"id","selected-image-view"),E(n,"class","view-panel svelte-ixb5jc")},m(t,a){v(t,n,a),m(n,e),m(n,r),m(n,i),s[o].m(i,null),l=!0},p(t,[n]){let e=o;o=u(t),o===e?s[o].p(t,n):(tt(),rt(s[e],1,1,(()=>{s[e]=null})),nt(),a=s[o],a?a.p(t,n):(a=s[o]=c[o](t),a.c()),et(a,1),a.m(i,null))},i(t){l||(et(a),l=!0)},o(t){rt(a),l=!1},d(t){t&&x(n),s[o].d()}}}function Ne(t,n,e){let r;return s(t,Vn,(t=>e(0,r=t))),[r]}class _e extends ft{constructor(t){super(),ut(this,t,Ne,ke,a,{})}}function je(t,n,e){const r=t.slice();return r[12]=n[e],r[14]=e,r}function Ee(n){let e;return{c(){e=M("p"),e.textContent="Data not loaded"},m(t,n){v(t,e,n)},p:t,i:t,o:t,d(t){t&&x(e)}}}function Ae(t){let n,e,r=t[2],i=[];for(let n=0;n<r.length;n+=1)i[n]=Re(je(t,r,n));const o=t=>rt(i[t],1,1,(()=>{i[t]=null}));return{c(){n=$("svg");for(let t=0;t<i.length;t+=1)i[t].c();E(n,"viewBox","0 0 "+Pe+" "+ze),E(n,"class","svelte-tout1j")},m(t,r){v(t,n,r);for(let t=0;t<i.length;t+=1)i[t].m(n,null);e=!0},p(t,e){if(255&e){let a;for(r=t[2],a=0;a<r.length;a+=1){const o=je(t,r,a);i[a]?(i[a].p(o,e),et(i[a],1)):(i[a]=Re(o),i[a].c(),et(i[a],1),i[a].m(n,null))}for(tt(),a=r.length;a<i.length;a+=1)o(a);nt()}},i(t){if(!e){for(let t=0;t<r.length;t+=1)et(i[t]);e=!0}},o(t){i=i.filter(Boolean);for(let t=0;t<i.length;t+=1)rt(i[t]);e=!1},d(t){t&&x(n),w(i,t)}}}function Se(t){let n,e,r,o,a,l,c,s,u;function f(){return t[10](t[12],t[14])}return{c(){n=$("circle"),E(n,"cx",e=t[1](t[12].projection[0])),E(n,"cy",r=t[0](t[12].projection[1])),E(n,"r","0.5"),E(n,"opacity","0.8"),E(n,"fill",o=Jn[t[12].true_label]),E(n,"stroke",a=Jn[t[12].predicted_label]),E(n,"stroke-width","0.25")},m(e,r){v(e,n,r),c=!0,s||(u=[j(n,"mouseenter",f),j(n,"mouseleave",t[7])],s=!0)},p(i,l){t=i,(!c||6&l&&e!==(e=t[1](t[12].projection[0])))&&E(n,"cx",e),(!c||5&l&&r!==(r=t[0](t[12].projection[1])))&&E(n,"cy",r),(!c||4&l&&o!==(o=Jn[t[12].true_label]))&&E(n,"fill",o),(!c||4&l&&a!==(a=Jn[t[12].predicted_label]))&&E(n,"stroke",a)},i(t){c||(V((()=>{l||(l=ot(n,Un,{},!0)),l.run(1)})),c=!0)},o(t){l||(l=ot(n,Un,{},!1)),l.run(0),c=!1},d(t){t&&x(n),t&&l&&l.end(),s=!1,i(u)}}}function qe(t){let n,e,r,o,a,l,c,s,u;function f(){return t[9](t[12],t[14])}return{c(){n=$("circle"),E(n,"cx",e=t[1](t[12].projection[0])),E(n,"cy",r=t[0](t[12].projection[1])),E(n,"r","0.5"),E(n,"opacity","0.2"),E(n,"fill",o=Jn[t[12].true_label]),E(n,"stroke",a=Jn[t[12].predicted_label]),E(n,"stroke-width","0.25")},m(e,r){v(e,n,r),c=!0,s||(u=[j(n,"mouseenter",f),j(n,"mouseleave",t[7])],s=!0)},p(i,l){t=i,(!c||6&l&&e!==(e=t[1](t[12].projection[0])))&&E(n,"cx",e),(!c||5&l&&r!==(r=t[0](t[12].projection[1])))&&E(n,"cy",r),(!c||4&l&&o!==(o=Jn[t[12].true_label]))&&E(n,"fill",o),(!c||4&l&&a!==(a=Jn[t[12].predicted_label]))&&E(n,"stroke",a)},i(t){c||(V((()=>{l||(l=ot(n,Un,{},!0)),l.run(1)})),c=!0)},o(t){l||(l=ot(n,Un,{},!1)),l.run(0),c=!1},d(t){t&&x(n),t&&l&&l.end(),s=!1,i(u)}}}function Ce(t){let n,e,r,o,a,l,c,s,u,f,h;function d(){return t[8](t[12],t[14])}return{c(){n=$("circle"),E(n,"cx",e=t[1](t[12].projection[0])),E(n,"cy",r=t[0](t[12].projection[1])),E(n,"r",o=t[3].id==t[12].id?"2":"0.5"),E(n,"opacity","0.9"),E(n,"fill",a=Jn[t[12].true_label]),E(n,"stroke",l=Jn[t[12].predicted_label]),E(n,"stroke-width",c=t[3].id!=t[12].id?"0.25":"1.0")},m(e,r){v(e,n,r),u=!0,f||(h=[j(n,"mouseenter",d),j(n,"mouseleave",t[7])],f=!0)},p(i,s){t=i,(!u||6&s&&e!==(e=t[1](t[12].projection[0])))&&E(n,"cx",e),(!u||5&s&&r!==(r=t[0](t[12].projection[1])))&&E(n,"cy",r),(!u||12&s&&o!==(o=t[3].id==t[12].id?"2":"0.5"))&&E(n,"r",o),(!u||4&s&&a!==(a=Jn[t[12].true_label]))&&E(n,"fill",a),(!u||4&s&&l!==(l=Jn[t[12].predicted_label]))&&E(n,"stroke",l),(!u||12&s&&c!==(c=t[3].id!=t[12].id?"0.25":"1.0"))&&E(n,"stroke-width",c)},i(t){u||(V((()=>{s||(s=ot(n,Un,{},!0)),s.run(1)})),u=!0)},o(t){s||(s=ot(n,Un,{},!1)),s.run(0),u=!1},d(t){t&&x(n),t&&s&&s.end(),f=!1,i(h)}}}function Re(t){let n,e,r,i;const o=[Ce,qe,Se],a=[];function l(t,n){return t[3]&&t[3].id==t[12].id?0:t[3]||-1!=t[4]&&t[4]!=t[12].predicted_label||-1!=t[5]&&t[5]!=t[12].true_label?1:2}return n=l(t),e=a[n]=o[n](t),{c(){e.c(),r=_()},m(t,e){a[n].m(t,e),v(t,r,e),i=!0},p(t,i){let c=n;n=l(t),n===c?a[n].p(t,i):(tt(),rt(a[c],1,1,(()=>{a[c]=null})),nt(),e=a[n],e?e.p(t,i):(e=a[n]=o[n](t),e.c()),et(e,1),e.m(r.parentNode,r))},i(t){i||(et(e),i=!0)},o(t){rt(e),i=!1},d(t){a[n].d(t),t&&x(r)}}}function De(t){let n,e,r,i;const o=[Ae,Ee],a=[];function l(t,n){return t[2]&&t[2][0]&&t[1]&&t[0]?0:1}return n=l(t),e=a[n]=o[n](t),{c(){e.c(),r=_()},m(t,e){a[n].m(t,e),v(t,r,e),i=!0},p(t,[i]){let c=n;n=l(t),n===c?a[n].p(t,i):(tt(),rt(a[c],1,1,(()=>{a[c]=null})),nt(),e=a[n],e?e.p(t,i):(e=a[n]=o[n](t),e.c()),et(e,1),e.m(r.parentNode,r))},i(t){i||(et(e),i=!0)},o(t){rt(e),i=!1},d(t){a[n].d(t),t&&x(r)}}}const ze=100,Pe=100;function He(t,n,e){let r,i,o,a;s(t,Fn,(t=>e(2,r=t))),s(t,Vn,(t=>e(3,i=t))),s(t,Xn,(t=>e(4,o=t))),s(t,Tn,(t=>e(5,a=t)));const l=10,c=2,u=20,f=5;let h=!1,d=!1;function g(t,n){console.log("selected datum in scoreboxhist",{datum:t,i:n}),Vn.set({...t})}Fn.subscribe((t=>{if(!t)return;const n=[Math.min(...t.map((t=>t.projection[0]))),Math.max(...t.map((t=>t.projection[0])))],r=[Math.min(...t.map((t=>t.projection[1]))),Math.max(...t.map((t=>t.projection[1])))];e(0,h=Bn().domain(n).range([l,ze-l-c])),e(1,d=Bn().domain(r).range([u,Pe-u-f])),console.log(r,n,[u,Pe-u-f],d(t[0].projection[0]),h(t[0].projection[1]))}));return[h,d,r,i,o,a,g,function(){Vn.set(!1)},(t,n)=>g(t,n),(t,n)=>g(t,n),(t,n)=>g(t,n)]}class Oe extends ft{constructor(t){super(),ut(this,t,He,De,a,{})}}function Be(n){let e,r,i,o,a,l,c,s,u,f,h,d,g,p,b,y,w,$;return u=new Oe({}),h=new _e({}),w=new we({}),{c(){e=M("main"),r=M("h1"),r.textContent="Visual Analytics HW 3",i=N(),o=M("div"),a=M("div"),l=M("div"),c=M("div"),c.textContent="Projection View",s=N(),at(u.$$.fragment),f=N(),at(h.$$.fragment),d=N(),g=M("div"),p=M("div"),b=M("div"),b.textContent="Score Distributions",y=N(),at(w.$$.fragment),E(r,"class","svelte-1jqapd5"),E(c,"class","view-title svelte-1jqapd5"),E(l,"id","projection-view"),E(l,"class","view-panel svelte-1jqapd5"),E(a,"id","sidebar"),S(a,"width","450px"),E(a,"class","svelte-1jqapd5"),E(b,"class","view-title svelte-1jqapd5"),E(p,"id","score-distributions-view"),E(p,"class","view-panel svelte-1jqapd5"),E(g,"id","main-section"),S(g,"width","1000px"),E(o,"id","container"),E(o,"class","svelte-1jqapd5")},m(t,n){v(t,e,n),m(e,r),m(e,i),m(e,o),m(o,a),m(a,l),m(l,c),m(l,s),lt(u,l,null),m(a,f),lt(h,a,null),m(o,d),m(o,g),m(g,p),m(p,b),m(p,y),lt(w,p,null),$=!0},p:t,i(t){$||(et(u.$$.fragment,t),et(h.$$.fragment,t),et(w.$$.fragment,t),$=!0)},o(t){rt(u.$$.fragment,t),rt(h.$$.fragment,t),rt(w.$$.fragment,t),$=!1},d(t){t&&x(e),ct(u),ct(h),ct(w)}}}function Le(t){let n,e=[];return H((async()=>{const t=await fetch("./static/prediction_results.json");n=(await t.json()).test_instances;for(let t=0;t<10;++t){let r=[];for(let e=0;e<10;++e){const i=n.filter((n=>n.true_label==t)).filter((n=>{let r=.1*e,i=r+.1,o=n.predicted_scores[t];return o>=r&&o<=i}));r.push({class:t,binNo:e,instances:i})}e.push({class:t,bins:r})}console.log({binsByClasses:e,instances:n}),Fn.set(n),Wn.set(e)})),[]}return new class extends ft{constructor(t){super(),ut(this,t,Le,Be,a,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
